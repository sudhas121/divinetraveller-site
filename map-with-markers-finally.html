<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <style type="text/css">

    .style1 {background-color:#ffffff;
	font-weight:bold;border:1px black solid;
	white-space:nowrap}

    </style>


    <title>Google Maps</title>
   <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=ABQIAAAAPDUET0Qt7p2VcSk6JNU1sBSM5jMcmVqUpI7aqV44cW1cEECiThQYkcZUPRJn9vy_TWxWvuLoOfSFBw" type="text/javascript"></script> 
   
<!--<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=AIzaSyCMYrT6ij4AMwcqkZS2in-s4aS_EYwhYj4" type="text/javascript"></script>  -->

  </head>
  
  <body onunload="GUnload()">


    <div id="map" style="width: 550px; height: 600px"></div>
   

    <script src="elabel.js" type="text/javascript"></script>

    <script type="text/javascript">
   

    if (GBrowserIsCompatible()) {

      var map = new GMap2(document.getElementById("map"));
      map.setCenter(new GLatLng(-33.9, 151.2),8);
      map.addControl(new GLargeMapControl());
      map.addControl(new GMapTypeControl());

      // remember which label was associated with the open info window
      var lastlabel; 
//
var temples = [];
var temples = [['Bondi Beach',  -33.890542, 151.274856,4],
  ['Coogee Beach', -33.923036, 151.259052,5],
  ['Cronulla Beach', -34.028249, 151.157507,3],
  ['Manly Beach', -33.80010128657071, 151.28747820854187,2],
  ['Maroubra Beach', -33.950198, 151.259302,1]];
//
      // Custom icon is identical to the default icon, except that its invisible
      var invisibleIcon = new GIcon(G_DEFAULT_ICON, "http://www.google.com/intl/en_ALL/mapfiles/markerTransparent.png");

      function createMarkeredLabel(point,html,text) {
        // Create the Label
        var contents = '<div>  <div class="style1">'+text+'<\/div><img src="img/sight.png" width=20 height=34><\/div>';
        var label=new ELabel(point, contents, null, new GSize(-8,4), 75, 1);
        map.addOverlay(label);

	 //
        GEvent.addListener(marker, "click", function() {
          marker.openInfoWindowHtml(html);
          label.setOpacity(100);
          lastlabel = label;
        });
        map.addOverlay(marker);
      }

//var lat = temples[1][1];  //convert string to float
//var lon = parseFloat(temples[1][2]);  //convert string to float
//var point=new google.maps.LatLng(lat, lon); 

// var point = new GLatLng(parseFloat(beaches[1]),parseFloat(beaches[2]));
// document.write ("Glatlang" + point);
//var point = new GLatLng(43.64855,-79.38535);
//var marker = createMarkeredLabel(point,'Some stuff to display in the Toronto Info Window',name);
  
   // Create an invisible GMarker
       var marker = new GMarker(point,invisibleIcon);
		//
var tempcount =0;
 for (var i = 0; i < temples.length; i++) {
	
	 document.write ("Length" + tempcount);
	document.write("<br>");
    var lat = parseFloat(temples[tempcount][1]);  //convert string to float
	var lon = parseFloat(temples[tempcount][2]);  //convert string to float
	var point=new GLatLng(lat, lon); 
	var name= temples[tempcount][0];
	tempcount++;
	document.write("temples " +name +"lat"+ lat + " lon"+lon+"point"+point);
    document.write("<br>");           
   
    var marker = createMarkeredLabel(point,"http://divinetraveller.net/mumbai-sidhivinayaka.html",name);
	
     var marker = new GMarker(point,invisibleIcon);   
	
     };
 
 
function myFunction() {
    
    beaches.toString();
    document.getElementById("demo").innerHTML = beaches;
}

      // Reset the opacity of the label when the info window closes
      GEvent.addListener(map,"infowindowclose", function() {
        if (lastlabel) {
          lastlabel.setOpacity(75);
        }
      });
//
	}

      
    
    
    // display a warning if the browser was not compatible
   // else {
   //   alert("Sorry, the Google Maps API is not compatible with this browser");
   // }

    // This Javascript is based on code provided by the
    // Community Church Javascript Team
    // http://www.bisphamchurch.org.uk/   
    // http://econym.org.uk/gmap/

    //]]>
	
		
    </script>
    

<button onclick="myFunction()">Click</button>
    <p id="demo"></p>
  </body>

</html>