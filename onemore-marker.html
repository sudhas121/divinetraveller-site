<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <style type="text/css">

    .style1 {background-color:#ffffff;font-weight:bold;border:2px #006699 solid;}
    .style2 {background-color:#ffcccc;}

    </style>


    <title>Google Maps</title>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=ABQIAAAAPDUET0Qt7p2VcSk6JNU1sBSM5jMcmVqUpI7aqV44cW1cEECiThQYkcZUPRJn9vy_TWxWvuLoOfSFBw" type="text/javascript"></script>
  </head>
  <body onunload="GUnload()">


    <div id="map" style="width: 550px; height: 450px"></div>
    <form action="#">
        <input type="button" value="Blowup" onclick="last_marker.showMapBlowup()" />
    </form>

    
    


    <script src="elabelv2.js" type="text/javascript"></script>

    <script type="text/javascript">
    //<![CDATA[

    if (GBrowserIsCompatible()) { 

      function createMarker(point,html) {
        var marker = new GMarker(point);
        GEvent.addListener(marker, "click", function() {
          marker.openInfoWindowHtml(html);
          last_marker = marker;
        });
        return marker;
      }


      var map = new GMap2(document.getElementById("map"));
      map.setCenter(new GLatLng(43.907787,-79.359741),8);
      map.setMapType(G_SATELLITE_MAP);
      map.addControl(new GLargeMapControl());
      map.addControl(new GMapTypeControl());
    
      var point = new GLatLng(43.65654,-79.90138);
      var marker = createMarker(point,'Some stuff to display in the First Info Window')
      map.addOverlay(marker);

      var point = new GLatLng(43.9,-79.5);
      var marker = createMarker(point,'Some stuff to display in the<br>Second Info Window')
      map.addOverlay(marker);

      var point = new GLatLng(43.82589,-79.10040);
      var marker = createMarker(point,'Some stuff to display in the<br>Third Info Window')
      map.addOverlay(marker);




    
      // An ELabel with all optional parameters in use 
      var label = new ELabel(new GLatLng(43.65654,-79.90138), "Somewhere Or Other", "style1", new GSize(-40,0), 60 );
      map.addOverlay(label); 

      // A simple opaque ELabel
      var label = new ELabel(new GLatLng(43.9,-79.5), "Utopia", "style2");
      map.addOverlay(label);

      // An ELabel with no classname
      var label = new ELabel(new GLatLng(43.82589,-79.10040), '<div style="background-color:#ccccff;border:2px solid black">Erewhon<\/div>', null, new GSize(6,-30), 75);
      map.addOverlay(label);
      
      // An ELabel with complex contents
      var stuff = '<div style="padding: 0px 0px 8px 8px; background: url(point_bottom_left.png) no-repeat bottom left;"><div style="background-color: #f2efe9; padding: 2px;"><b> Shangri&nbsp;La <\/b><\/div><\/div>';
      var label = new ELabel(new GLatLng(44.3,-79.9), stuff, null, null, 65);
      map.addOverlay(label);
      
      
      // === Save the marker to be used for the blowup === 
      var last_marker = marker;
      
      


      
    }
    
    // display a warning if the browser was not compatible
    else {
      alert("Sorry, the Google Maps API is not compatible with this browser");
    }

    // This Javascript is based on code provided by the
    // Community Church Javascript Team
    // http://www.bisphamchurch.org.uk/   
    // http://econym.org.uk/gmap/

    //]]>
    </script>
  </body>

</html>
