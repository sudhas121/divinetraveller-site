<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <title>Divine Temples of India</title>
 <style type="text/css">
   .labels {
     color: blue;
     background-color: white;
     font-family: "Lucida Grande", "Arial", sans-serif;
     font-size: 10px;
     font-weight: bold;
     text-align: center;
     width: 60px;
     border: 1px solid black;
     white-space: wrap;
   }
    #map_canvas {
        width: 500px;
        height: 600px;
      }
 </style>
 <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?v=3&amp;sensor=false"></script>
 <script type="text/javascript" src="markerwithlabel.js"></script>
 <script type="text/javascript">
  
   function initMap() {
    // var latLng = new google.maps.LatLng(49.47805, -123.84716);
    // var homeLatLng = new google.maps.LatLng(49.47805, -123.84716);
 		var image = 'img/sight.png';
       var map = new google.maps.Map(document.getElementById('map_canvas'), {
       zoom: 5,
       center: new google.maps.LatLng(21.0000, 78.0000),
       mapTypeId: google.maps.MapTypeId.ROADMAP
     });


var temples = [['Mylapore',  13.0336, 80.2687],
  ['Thiruvidanthai', 12.45, 80.14],
  ['Guruvayur', 10.3500, 76.2000],
  ['<a href=http://divinetraveller.net/sabarimalai.html>Sabarimala</a>', 9.4375, 77.0805],
  ['Kumbakonam', 10.9700, 79.4200],
  ['Varanasi',25.2820, 82.9563]];
 
  infowindow = new google.maps.InfoWindow();

 for (var i = 0; i < temples.length; i++) {
	
	 var marker = new MarkerWithLabel({
       position: new google.maps.LatLng(temples[i][1], temples[i][2]),
       draggable: true,
       raiseOnDrag: true,
       map: map,
	   icon: image,	  
       labelContent: temples[i][0] ,
	  
       labelAnchor: new google.maps.Point(25, 0),
       labelClass: "labels", // the CSS class for the label
       labelStyle: {opacity: 0.75}	   
     });
	 
	 google.maps.event.addListener(marker, 'click', (function(marker, i) {
			return function() {
				infowindow.setContent(temples[i][0]);
				infowindow.setOptions({maxWidth: 200});
				infowindow.open(map, marker);
			}
		}) (marker, i));
	
	 
	  google.maps.event.addListener(marker, "click", function (e) { marker.open(map,this); });
	 //google.maps.event.addListener(marker2, "click", function (e) { new google.maps.InfoWindow.open(map,this); });
	  
    };

    
   
   }
   
   
   
   
 </script>
</head>
<body onload="initMap()">
<p>Divine Temples of India</p>
 <div id="map_canvas" ></div>
 <div id="log"></div>
</body>
</html>